<!DOCTYPE html>
<html lang="el">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Σύνδεση - CarReminder</title>
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="stylesheet" href="login.css" />
    <style>
      .admin-link {
        text-align: center;
        margin-top: 20px;
        border-top: 1px solid #ddd;
        padding-top: 15px;
      }
      .admin-link a {
        color: #666;
        text-decoration: none;
        font-size: 14px;
      }
      .admin-link a:hover {
        color: #007bff;
      }
    </style>
  </head>
  <body class="login-body">
    <div class="login-container">
      <div class="login-form">
        <div class="logo-wrapper">
          <img src="logo.svg" alt="CarReminder Logo" />
        </div>

        <form id="loginForm">
          <div class="form-group">
            <label for="username">Όνομα Χρήστη ή Email:</label>
            <input
              type="text"
              id="username"
              name="username"
              required
              placeholder="Συμπληρώστε username ή email"
            />
          </div>

          <div class="form-group">
            <label for="password">Κωδικός Πρόσβασης:</label>

            <div class="password-wrapper">
              <input
                type="password"
                id="password"
                name="password"
                required
                placeholder="Συμπληρώστε κωδικό"
              />
              <button
                type="button"
                class="toggle-password"
                data-target="password"
                aria-label="Εμφάνιση/Απόκρυψη κωδικού"
              >
                <img src="eye.png" alt="Εμφάνιση κωδικού" class="eye-icon" />
              </button>
            </div>
          </div>
          <div class="forgot-password">
            <a href="#" id="forgotPasswordLink">Ξεχάσατε τον κωδικό σας;</a>
          </div>
          <button type="submit" class="btn-primary">Σύνδεση</button>

          <div id="loginError" class="login-message error">
            Λάθος στοιχεία εισόδου. Παρακαλώ προσπαθήστε ξανά.
          </div>
          <div
            class="interest-link"
            style="text-align: center; margin-top: 15px"
          >
            <p style="color: #666; font-size: 14px">
              Ενδιαφέρεστε για λογαριασμό;
              <a href="interest-form.html" style="color: #007bff"
                >Κάντε αίτηση εδώ</a
              >
            </p>
          </div>
        </form>
      </div>
    </div>

    <script src="api.js"></script>
    <script src="auth.js"></script>

    <!-- Forgot password modal -->
    <div class="modal" id="forgotModal" aria-hidden="true">
      <div class="modal-content" role="dialog" aria-modal="true">
        <button class="modal-close" id="forgotClose" aria-label="Κλείσιμο">
          ×
        </button>

        <h3>Επαναφορά κωδικού</h3>

        <!-- Step 1: email -->
        <div class="fp-step" id="fpStepEmail">
          <p>Συμπληρώστε το email σας.</p>
          <div class="form-group">
            <label for="fpEmail">Email:</label>
            <input type="email" id="fpEmail" placeholder="name@example.com" />
          </div>
          <button class="btn-primary" id="fpSendCode">Αποστολή κωδικού</button>
        </div>

        <!-- Step 2: code -->
        <div class="fp-step" id="fpStepCode" style="display: none">
          <p>Σας έχει σταλθεί ένας 6-ψήφιος κωδικός στο email σας.</p>
          <div class="form-group">
            <label for="fpCode">Κωδικός:</label>
            <input
              type="text"
              id="fpCode"
              inputmode="numeric"
              maxlength="6"
              placeholder="000000"
            />
          </div>
          <button class="btn-primary" id="fpVerifyCode">Επιβεβαίωση</button>
          <button class="btn-secondary" id="fpBackToEmail">Άλλαξε email</button>
        </div>

        <!-- Step 3: new password -->
        <div class="fp-step" id="fpStepReset" style="display: none">
          <p>Συμπληρώστε τον νεό κωδικό.</p>
          <div class="form-group">
            <label for="fpNewPass">Νέος κωδικός:</label>
            <input type="password" id="fpNewPass" placeholder="Νέος κωδικός" />
          </div>
          <div class="form-group">
            <label for="fpNewPass2">Επιβεβαίωση:</label>
            <input
              type="password"
              id="fpNewPass2"
              placeholder="Επανάληψη νέου κωδικού"
            />
          </div>
          <button class="btn-primary" id="fpDoReset">Αλλαγή κωδικού</button>
        </div>

        <div class="fp-message" id="fpMsg" style="display: none"></div>
      </div>
    </div>
  </body>
</html>
